"use strict";(self.webpackChunkblogfront=self.webpackChunkblogfront||[]).push([[809],{5305:function(e,s,l){l.d(s,{Z:function(){return n}});var t=l(4535);const a={key:0,class:"alert"};s={name:"Alert",props:["msg","show"]};var n=(0,l(8696).Z)(s,[["render",function(e,s,l,n,o,r){var i=(0,t.up)("el-alert");return l.show?((0,t.wg)(),(0,t.iD)("div",a,[(0,t.Wm)(i,{title:l.msg,type:"info",center:"","show-icon":""},null,8,["title"])])):(0,t.kq)("",!0)}],["__scopeId","data-v-f994ff96"]])},7809:function(e,s,l){l.r(s),l.d(s,{default:function(){return g}});var t=l(4535);const a={class:"login container"},n={class:"form hover-around-shadow animation-time"},o={class:"btns"};l(4119);var r=l(9510),i=l(7115),u=(s=l(5305),l(1112)),g=(s={name:"Login",data(){return{login:{username:"",password:""},warning:!1,alertInf:"暂无消息",showAlert:!1}},methods:{alertMessage(e,s,l){l=l||"red",(0,u.z8)({message:(0,t.h)("p",null,[(0,t.h)("span",null,e),(0,t.h)("i",{style:"color: "+l},s)])})},async submit(){this.login.username.length<1||this.login.password.length;var e,s=await r.Z.$axios({url:"/user/login",method:"POST",data:this.login});s.success?(this.alertMessage(s.message),e=s.result||"",localStorage.setItem("userInfo",JSON.stringify(e)),this.alertMessage("已有用户登录,跳转用户页面"),i.Z.push({path:"/user"})):(this.alertInf=s.message,this.showAlert=!0,this.alertMessage(s.message))},getToken(){var e=JSON.parse(localStorage.getItem("userInfo"));JSON.stringify(e)},verifyLogin(){var e=localStorage.getItem("userInfo");JSON.stringify(e).length<10?localStorage.removeItem("userInfo"):i.Z.push({path:"/user"})}},created(){this.verifyLogin()},components:{Alert:s.Z}},(0,l(8696).Z)(s,[["render",function(e,s,l,r,i,u){var g=(0,t.up)("el-input"),m=(0,t.up)("el-button"),c=(0,t.up)("Alert");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",a,[(0,t._)("div",n,[(0,t.Wm)(g,{modelValue:i.login.username,"onUpdate:modelValue":s[0]||(s[0]=e=>i.login.username=e),placeholder:"Please input username",clearable:""},null,8,["modelValue"]),(0,t.Wm)(g,{modelValue:i.login.password,"onUpdate:modelValue":s[1]||(s[1]=e=>i.login.password=e),placeholder:"Please input pwd",clearable:""},null,8,["modelValue"]),(0,t._)("div",o,[(0,t.Wm)(m,{onClick:u.submit},{default:(0,t.w5)((()=>[(0,t.Uk)("登录")])),_:1},8,["onClick"]),(0,t.Wm)(m,{onClick:u.getToken},{default:(0,t.w5)((()=>[(0,t.Uk)("get")])),_:1},8,["onClick"])])])]),(0,t.Wm)(c,{msg:i.alertInf,show:i.showAlert},null,8,["msg","show"])],64)}],["__scopeId","data-v-00af5456"]]))}}]);