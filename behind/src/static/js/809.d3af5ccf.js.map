{"version":3,"file":"js/809.d3af5ccf.js","mappings":"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","sources":["webpack://blogfront/./src/components/common/Alert.vue","webpack://blogfront/./src/components/common/Alert.vue?45c7","webpack://blogfront/./src/views/Login.vue","webpack://blogfront/./src/views/Login.vue?de81"],"sourcesContent":["<template>\r\n  <div class=\"alert\" v-if=\"show\">\r\n    <el-alert :title=\"msg\" type=\"info\" center show-icon/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Alert\",\r\n  props: ['msg', 'show'],\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n.alert {\r\n  display: flex;\r\n  width: 300px;\r\n  position: fixed;\r\n  bottom: 10px;\r\n  right: 10px;\r\n\r\n  .alertLim {\r\n    display: flex;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","import { render } from \"./Alert.vue?vue&type=template&id=f994ff96&scoped=true\"\nimport script from \"./Alert.vue?vue&type=script&lang=js\"\nexport * from \"./Alert.vue?vue&type=script&lang=js\"\n\nimport \"./Alert.vue?vue&type=style&index=0&id=f994ff96&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\githubClone\\\\iceYouBlog\\\\blogfront\\\\node_modules\\\\.store\\\\vue-loader@17.1.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f994ff96\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"login container\">\r\n    <div class=\"form hover-around-shadow animation-time\">\r\n      <el-input v-model=\"login.username\" placeholder=\"Please input username\" clearable/>\r\n      <el-input v-model=\"login.password\" placeholder=\"Please input pwd\" clearable/>\r\n      <div class=\"btns\">\r\n        <el-button @click=\"submit\">登录</el-button>\r\n        <el-button @click=\"getToken\">get</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Alert :msg=\"alertInf\" :show=\"showAlert\"></Alert>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport http from '../common/api/request';\r\nimport router from '@/router';\r\nimport Alert from '@/components/common/Alert.vue';\r\nimport {ElMessage} from 'element-plus';\r\nimport {h} from 'vue';\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      login: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      warning: false,\r\n      alertInf: '暂无消息',\r\n      showAlert: false,\r\n    }\r\n  },\r\n  methods: {\r\n    alertMessage(title, sub, color) {\r\n      const useColor = color || 'red';\r\n      ElMessage({\r\n        message: h('p', null, [\r\n          h('span', null, title),\r\n          h('i', {style: `color: ${useColor}`}, sub),\r\n        ]),\r\n      })\r\n    },\r\n    async submit() {\r\n      if (this.login.username.length < 1 || this.login.password.length < 1) {\r\n        console.log('data error')\r\n      }\r\n      const res = await http.$axios({\r\n        url: '/user/login',\r\n        method: 'POST',\r\n        data: this.login,\r\n      })\r\n      if (!res.success) {\r\n        // 登录失败\r\n        this.alertInf = res.message;\r\n        this.showAlert = true;\r\n        this.alertMessage(res.message)\r\n      } else {\r\n        // 登陆成功\r\n        this.alertMessage(res.message)\r\n        const userInfo = res.result || '';\r\n        console.log('即将写入的user信息')\r\n        console.log(JSON.stringify(userInfo))\r\n        // 写入token\r\n        localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n        this.alertMessage('已有用户登录,跳转用户页面')\r\n        // 跳转user页面\r\n        router.push({path: '/user'});\r\n      }\r\n    },\r\n    getToken() {\r\n      const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n      if (JSON.stringify(userInfo) > 10) {\r\n        console.log(userInfo);\r\n        console.log(userInfo.id);\r\n      } else {\r\n        console.log('token is null')\r\n      }\r\n    },\r\n    // 验证用户是否登录,如果登录,跳转个人页面\r\n    verifyLogin() {\r\n      const user = localStorage.getItem(\"userInfo\");\r\n      console.log('localStorage:')\r\n      console.log(user)\r\n      // 没有用户登录\r\n      if (JSON.stringify(user).length < 10) {\r\n        localStorage.removeItem('userInfo');\r\n        return\r\n      } else {\r\n        // 有用户登录,跳转user页面\r\n        router.push({path: '/user'});\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.verifyLogin();\r\n  },\r\n  components: {\r\n    Alert\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.login {\r\n  padding-top: 1rem;\r\n\r\n  .form {\r\n    padding: 0.3rem;\r\n    background-image: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);\r\n    /* 背景尺寸 - 原理3 */\r\n    background-size: 600% 600%;\r\n    /* 循环动画 - 原理4 */\r\n    animation: backgroundChange 5s ease infinite;\r\n    border-radius: 0.5rem;\r\n\r\n    .el-input {\r\n      margin-top: 0.5rem;\r\n      border-radius: 0.5rem;\r\n    }\r\n\r\n    .btns {\r\n      margin-top: 0.5rem;\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes backgroundChange {\r\n  0% {\r\n    background-position: 0% 50%;\r\n  }\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=00af5456&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=00af5456&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\githubClone\\\\iceYouBlog\\\\blogfront\\\\node_modules\\\\.store\\\\vue-loader@17.1.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00af5456\"]])\n\nexport default __exports__"],"names":["class","$props","show","_createElementBlock","_hoisted_1","_createVNode","_component_el_alert","title","msg","type","center","name","props","__exports__","render","_createElementVNode","_hoisted_2","_component_el_input","$data","login","username","$event","placeholder","clearable","password","_hoisted_3","_component_el_button","onClick","$options","submit","getToken","_component_Alert","alertInf","showAlert","data","warning","methods","alertMessage","sub","color","useColor","ElMessage","message","h","style","async","this","length","console","log","res","http","url","method","success","userInfo","result","JSON","stringify","localStorage","setItem","router","path","parse","getItem","id","verifyLogin","user","removeItem","created","components","Alert"],"sourceRoot":""}