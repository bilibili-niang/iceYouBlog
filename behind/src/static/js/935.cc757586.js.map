{"version":3,"file":"js/935.cc757586.js","mappings":"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","sources":["webpack://blogfront/./src/components/note/NoteList.vue","webpack://blogfront/./src/components/note/NoteListItem.vue","webpack://blogfront/./src/components/note/NoteListItem.vue?e947","webpack://blogfront/./src/components/note/NoteList.vue?578c"],"sourcesContent":["<template>\r\n  <div class=\"noteList\">\r\n    <div class=\"btns\">\r\n      <el-button @click=\"drawer = true\">check all</el-button>\r\n      <el-input class=\"m-r\" v-model=\"noteData.note_title\" placeholder=\"Please input\"/>\r\n      <el-button @click=\"showDrawer = true\">share</el-button>\r\n\r\n      <el-text v-if=\"noteData.allowView\">公开分享</el-text>\r\n      <el-text v-else>没有公开分享</el-text>\r\n\r\n      <el-button @click=\"goToShareLink(noteData.id)\" v-if=\"noteData.allowView\">check share link\r\n      </el-button>\r\n\r\n    </div>\r\n    <el-drawer v-model=\"showDrawer\" title=\"是否分享你的笔记\" size=\"50%\">\r\n      <div>\r\n        noteData:\r\n        { \"id\": 6, \"note_title\": \"面试说的话\", \"allowView\": 0, \"content\": \"> type your first title!\", \"cover\":\r\n        \"/images/cover/1.png\", \"icon\": \"/images/icon/default.png\", \"allowComment\": 0, \"allowEditUserList\": null }\r\n        <br>\r\n        {{ noteData }}\r\n\r\n        <el-button :@click=\"shareNoteById(noteData.id)\">share</el-button>\r\n      </div>\r\n    </el-drawer>\r\n\r\n    <el-drawer v-model=\"drawer\" size=\"25%\" direction=\"ltr\" title=\"I am the title\" :with-header=\"false\">\r\n      <el-text>my note list</el-text>\r\n      <div class=\"left noteLim\">\r\n        <div class=\"newNote\">\r\n          <el-input v-model=\"title\" placeholder=\"新建一个\"/>\r\n          <el-button @click=\"submitNewNote()\">\r\n            提交\r\n          </el-button>\r\n        </div>\r\n        <el-divider/>\r\n        <div class=\"noteListLim\">\r\n          <ul class=\"list-group list-group-flush\">\r\n            <li class=\"list-group-item\" v-for=\"(item,index) in notesList\" :key=\"index\">\r\n              <NoteListItem :item=\"item\" :showNote=\"getItemId\"></NoteListItem>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n    <!--笔记的填充区域-->\r\n    <div class=\"right noteLim\" v-if=\"showRight\">\r\n      <v-md-editor\r\n          :include-level=\"[3,4]\"\r\n          @save=\"saveNote\"\r\n          v-model=\"noteData.content\"\r\n          :disabled-menus=\"[]\"\r\n      ></v-md-editor>\r\n    </div>\r\n    <div class=\"imageLim\">\r\n      <div class=\"cover\"\r\n           v-bind:style=\"{backgroundImage:'url(' + noteData.cover + ')',backgroundRepeat:'no-repeat'}\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from '../../common/api/request';\r\nimport {h} from 'vue';\r\nimport {ElMessage, ElMessageBox} from 'element-plus'\r\nimport NoteListItem from \"@/components/note/NoteListItem.vue\";\r\n\r\nexport default {\r\n  name: \"noteList\",\r\n  components: {NoteListItem},\r\n  data() {\r\n    return {\r\n      notesList: [],\r\n      title: '',\r\n      noteData: {},\r\n      showRight: false,\r\n      // 当前被点击的id\r\n      nowId: '',\r\n      drawer: false,\r\n      // 分享的弹窗\r\n      showDrawer: false,\r\n\r\n    }\r\n  },\r\n  created() {\r\n    this.initNotesList();\r\n  },\r\n  methods: {\r\n    /* @author icestone , 20:24\r\n     * @date 2023/5/16\r\n     * TODO 前往分享链接\r\n    */\r\n    goToShareLink(id) {\r\n      console.log(`分享id:${id}`)\r\n    },\r\n    /* @author icestone , 21:31\r\n     * @date 2023/5/15\r\n     * TODO 点击设置分享权限该文章\r\n    */\r\n    shareNoteById(id) {\r\n      console.log(`将要分享的id:${id}`)\r\n      http.$axios({\r\n        url: '/note/publicNote',\r\n        method: 'POST',\r\n        headers: {\r\n          token: true\r\n        },\r\n        data: {\r\n          id,\r\n        }\r\n      }).then(res => {\r\n        this.alertMessage(res.message)\r\n      })\r\n          .catch(e => {\r\n            this.alertMessage(e)\r\n          })\r\n\r\n    },\r\n    // 提交二级笔记的service\r\n    submitChildrenNote(title, fatherId) {\r\n      http.$axios({\r\n        url: '/'\r\n      })\r\n    },\r\n    // 添加子笔记\r\n    addNewChildrenNote(obj) {\r\n      console.log('---addNewChildrenNote---')\r\n      console.log(\"obj;\")\r\n      console.log(obj)\r\n      ElMessageBox.prompt(`将会在 ${obj.note_title} 下新建笔记`, '新建一个笔记', {\r\n        confirmButtonText: '就这个了',\r\n        cancelButtonText: '算了',\r\n        inputPattern: /[\\u4e00-\\u9fa5_a-zA-Z0-9_]{4,10}/,\r\n        inputErrorMessage: '只能是数字,字母,特殊字符',\r\n        inputValidator: (val) => {\r\n          return true\r\n        }\r\n      })\r\n          .then(({value}) => {\r\n            // 通过value和id新建二级笔记\r\n            const {id: fatherId} = obj;\r\n            console.log(fatherId)\r\n            this.submitChildrenNote(value, fatherId)\r\n            ElMessage({\r\n              type: 'success',\r\n              message: `Your email is:${value}`,\r\n            })\r\n          })\r\n          .catch(() => {\r\n            ElMessage({\r\n              type: 'info',\r\n              message: 'Input canceled',\r\n            })\r\n          })\r\n    },\r\n    alertMessage(title, sub, color) {\r\n      const useColor = color || 'red';\r\n      ElMessage({\r\n        message: h('p', null, [\r\n          h('span', null, title),\r\n          h('i', {style: `color: ${useColor}`}, sub),\r\n        ]),\r\n        grouping: true,\r\n      })\r\n    },\r\n    getItemId(id) {\r\n      this.showNote(id);\r\n    },\r\n    // 检测在按下ctrl+s时进行保存\r\n    saveNote() {\r\n      console.log('this.noteData')\r\n      console.log(this.noteData)\r\n      http.$axios({\r\n        url: '/note/saveNote',\r\n        method: 'POST',\r\n        headers: {\r\n          token: true\r\n        },\r\n        data: {\r\n          id: this.noteData.id,\r\n          data: this.noteData\r\n        }\r\n      })\r\n          .then(res => {\r\n            console.log(res.message)\r\n            this.initNotesList();\r\n            this.alertMessage(res.message, 'success', '#a1c4fd');\r\n          })\r\n          .catch(e => {\r\n            console.log('失败')\r\n            console.log(e)\r\n          })\r\n    },\r\n    async handleEvent(event) {\r\n      switch (event.keyCode) {\r\n        case 83:\r\n          event.preventDefault()\r\n          // 阻止直接保存网页\r\n          event.returnValue = false;\r\n          this.saveNote();\r\n          break\r\n      }\r\n    },\r\n    // 点击显示该笔记的内容\r\n    showNote(id) {\r\n      this.nowId = id;\r\n      http.$axios({\r\n        url: '/note/getNote',\r\n        method: 'POST',\r\n        headers: {\r\n          token: true\r\n        },\r\n        data: {\r\n          id\r\n        }\r\n      })\r\n          .then(res => {\r\n            if (res.success) {\r\n              /* @author icestone , 17:20\r\n               * @date 2023/5/15\r\n               * TODO 如果content为null,v-md-editor会报错,这里判断一下\r\n              */\r\n              if (res.result.content == null) {\r\n                res.result.content = `> type your first title!`;\r\n                this.noteData = res.result;\r\n              } else {\r\n                this.noteData = res.result\r\n              }\r\n            } else {\r\n              console.log('笔记获取失败')\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(e)\r\n          })\r\n\r\n    },\r\n    // 提交新建的文章\r\n    submitNewNote() {\r\n      console.log('submitNewNote')\r\n      http.$axios({\r\n        url: \"/note/addNote\",\r\n        method: 'POST',\r\n        headers: {\r\n          token: true\r\n        },\r\n        data: {\r\n          note_title: this.title\r\n        }\r\n      })\r\n          .then(res => {\r\n            console.log(\"res:\")\r\n            console.log(res)\r\n            if (res.success) {\r\n              // 成功\r\n              this.initNotesList();\r\n              this.title = '';\r\n            }\r\n          })\r\n          .catch(e => {\r\n            console.log(\"e:\")\r\n            console.log(e)\r\n          })\r\n\r\n    },\r\n    initNotesList() {\r\n      http.$axios({\r\n        url: '/note/allNotes',\r\n        method: 'POST',\r\n        headers: {\r\n          token: true\r\n        },\r\n      })\r\n          .then(res => {\r\n            console.log(\"res.result:\")\r\n            console.log(res.result)\r\n            console.log(res.result.length)\r\n            if (res.success & res.result.length != 0) {\r\n              this.showRight = true;\r\n              this.notesList = res.result;\r\n              // 如果存在id,那么获取一下第一篇note的数据\r\n              if (this.notesList[0].id) {\r\n                if (this.nowId) {\r\n                  this.showNote(this.nowId);\r\n                } else {\r\n                  this.showNote(this.notesList[0].id);\r\n                }\r\n              }\r\n            } else {\r\n              this.alertMessage(res.message, '数据渲染失败咯', '#a1c4fd');\r\n              this.showRight = false;\r\n            }\r\n          })\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener('keydown', this.handleEvent)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('keydown', this.handleEvent) // 在页面销毁的时候记得解除\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.el-row:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n\r\n.noteList {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .btns {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n    margin-bottom: 0.5rem;\r\n\r\n    div.el-input {\r\n      max-width: 13rem;\r\n    }\r\n\r\n    button {\r\n      margin-right: .3rem;\r\n    }\r\n  }\r\n\r\n  // 左侧展开的列表\r\n  :deep .el-drawer__body {\r\n    padding: .3rem;\r\n\r\n  }\r\n\r\n  .noteLim {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n  }\r\n\r\n  .left {\r\n    width: 100%;\r\n    display: flex;\r\n    padding: 0;\r\n\r\n    .newNote {\r\n      display: flex;\r\n      flex-direction: row;\r\n      flex-wrap: nowrap;\r\n\r\n      button {\r\n        margin-left: 0.5rem;\r\n      }\r\n    }\r\n\r\n    .noteListLim {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n\r\n      .list-group {\r\n        .list-group-item {\r\n          display: flex;\r\n          flex-direction: row;\r\n          flex-wrap: wrap;\r\n          margin: 0.2rem;\r\n          border-radius: 0.5rem;\r\n          padding: 0.5rem;\r\n          transition: 0.2s;\r\n\r\n          &:hover {\r\n            background: rgba(142, 197, 252, 0.5);\r\n          }\r\n\r\n          .iconList {\r\n            button {\r\n              font-size: 1.3rem;\r\n            }\r\n          }\r\n\r\n          .title {\r\n            width: 5rem;\r\n            display: flex;\r\n            height: 100%;\r\n            align-items: center;\r\n            flex: 1;\r\n            justify-content: center;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .right {\r\n    display: flex;\r\n    width: 100%;\r\n    margin-bottom: 3rem;\r\n\r\n    .v-md-editor {\r\n      min-height: 85vh;\r\n    }\r\n  }\r\n\r\n  .imageLim {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n\r\n    .cover {\r\n      display: flex;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-size: cover;\r\n      filter: blur(0.1rem);\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"noteListItem\">\r\n    <el-row>\r\n      <el-col :span=\"4\">\r\n        <div class=\"icon\"><img :src=\"item.icon\" alt=\"\"></div>\r\n      </el-col>\r\n      <el-col :span=\"20\">\r\n        <el-text truncated @click=\"showNote(item.id)\" class=\"hvr-shadow\">{{ item.note_title }}</el-text>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-row class=\"iconList\">\r\n\r\n      <el-col :span=\"4\">\r\n        <!--点击展开子目录-->\r\n        <el-button link>\r\n          <el-icon>\r\n            <ArrowRight/>\r\n          </el-icon>\r\n        </el-button>\r\n      </el-col>\r\n\r\n      <el-col :span=\"4\">\r\n        <el-button link>\r\n          <el-icon>\r\n            <More/>\r\n          </el-icon>\r\n        </el-button>\r\n      </el-col>\r\n\r\n      <el-col :span=\"4\">\r\n\r\n        <!--添加子笔记的按钮-->\r\n        <el-button link @click=\"addNewChildrenNote(item)\">\r\n          <el-icon>\r\n            <Plus/>\r\n          </el-icon>\r\n        </el-button>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"NoteListItem\",\r\n  props: {\r\n    item: {\r\n      type: Object\r\n    },\r\n    showNote: {\r\n      type: Function,\r\n      default: () => {\r\n      },\r\n    }\r\n  },\r\n  data() {\r\n\r\n  },\r\n  methods: {\r\n    addNewChildrenNote(item) {\r\n      console.log(\"addNewChildrenNote\")\r\n      console.log(item)\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.noteListItem {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n\r\n  .el-row {\r\n    display: flex;\r\n    width: 100%;\r\n\r\n    .el-col {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n\r\n  .icon {\r\n    img {\r\n      display: flex;\r\n      width: 1.5rem;\r\n      height: 1.5rem;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./NoteListItem.vue?vue&type=template&id=406e474f&scoped=true\"\nimport script from \"./NoteListItem.vue?vue&type=script&lang=js\"\nexport * from \"./NoteListItem.vue?vue&type=script&lang=js\"\n\nimport \"./NoteListItem.vue?vue&type=style&index=0&id=406e474f&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\githubClone\\\\iceYouBlog\\\\blogfront\\\\node_modules\\\\.store\\\\vue-loader@17.1.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-406e474f\"]])\n\nexport default __exports__","import { render } from \"./NoteList.vue?vue&type=template&id=6b635ffe&scoped=true\"\nimport script from \"./NoteList.vue?vue&type=script&lang=js\"\nexport * from \"./NoteList.vue?vue&type=script&lang=js\"\n\nimport \"./NoteList.vue?vue&type=style&index=0&id=6b635ffe&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\githubClone\\\\iceYouBlog\\\\blogfront\\\\node_modules\\\\.store\\\\vue-loader@17.1.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b635ffe\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_button","onClick","_cache","$event","$data","drawer","_component_el_input","noteData","note_title","placeholder","showDrawer","allowView","_createBlock","_component_el_text","key","$options","goToShareLink","id","_component_el_drawer","title","size","_hoisted_3","_toDisplayString","shareNoteById","direction","_hoisted_4","_hoisted_5","submitNewNote","_component_el_divider","_hoisted_6","_hoisted_7","_Fragment","_renderList","notesList","item","index","_component_NoteListItem","showNote","getItemId","showRight","_hoisted_8","_component_v_md_editor","onSave","saveNote","content","_hoisted_9","style","_normalizeStyle","backgroundImage","cover","backgroundRepeat","_component_el_row","_component_el_col","span","src","$props","icon","alt","truncated","link","_component_el_icon","_component_ArrowRight","_component_More","addNewChildrenNote","_component_Plus","name","props","type","Object","Function","default","data","methods","console","log","__exports__","components","NoteListItem","nowId","created","this","initNotesList","http","url","method","headers","token","then","res","alertMessage","message","catch","e","submitChildrenNote","fatherId","obj","ElMessageBox","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","inputValidator","val","value","ElMessage","sub","color","useColor","h","grouping","async","event","keyCode","preventDefault","returnValue","success","result","length","mounted","window","addEventListener","handleEvent","beforeDestroy","removeEventListener","render"],"sourceRoot":""}